<Window x:Class="Demon_battle.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Demon_battle"
        mc:Ignorable="d"
        Title="Pokemon Battle" Height="800" Width="1000">
    <Grid>
        <!-- Main Layout -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Menu Panel - Initial Screen -->
        <Grid x:Name="MenuPanel" Grid.Row="0" Grid.RowSpan="2" Visibility="Visible">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="Pokemon Battle" FontSize="48" FontWeight="Bold" Margin="0,0,0,50" HorizontalAlignment="Center"/>
                <Button x:Name="MenuStartGameButton" Content="Start Game" Width="200" Height="50" Margin="0,10" Click="MenuStartGame_Click"/>
                <Button x:Name="MenuExitGameButton" Content="Exit Game" Width="200" Height="50" Margin="0,10" Click="MenuExitGame_Click"/>
            </StackPanel>
        </Grid>

        <!-- Character Selection Panel -->
        <Grid x:Name="CharacterSelectionPanel" Grid.Row="0" Grid.RowSpan="2" Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="Select Your Pokemon" FontSize="36" FontWeight="Bold" Margin="0,0,0,30" HorizontalAlignment="Center"/>
                <UniformGrid Columns="3" Width="600" Height="300">
                    <Button x:Name="PikachuButton" Margin="10" Click="SelectPikachu_Click">
                        <StackPanel>
                            <Image Source="/Pikachu.png" Width="150" Height="150" Stretch="Uniform"/>
                            <TextBlock Text="Pikachu" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="KkobugiButton" Margin="10" Click="SelectKkobugi_Click">
                        <StackPanel>
                            <Image Source="/Kkobugi.png" Width="150" Height="150" Stretch="Uniform"/>
                            <TextBlock Text="Kkobugi" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        </StackPanel>
                    </Button>
                    <Button x:Name="PairiButton" Margin="10" Click="SelectPairi_Click">
                        <StackPanel>
                            <Image Source="/Pairi.png" Width="150" Height="150" Stretch="Uniform"/>
                            <TextBlock Text="Pairi" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        </StackPanel>
                    </Button>
                </UniformGrid>
            </StackPanel>
        </Grid>

        <!-- Game Panel -->
        <Grid x:Name="GamePanel" Grid.Row="0" Grid.RowSpan="2" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Player Information Panel -->
            <Grid Grid.Row="0" Background="#F0F0F0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Player HP -->
                <StackPanel Grid.Column="0" Margin="10" Orientation="Vertical">
                    <TextBlock Text="Player" FontSize="18" FontWeight="Bold"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                        <TextBlock Text="HP:" VerticalAlignment="Center"/>
                        <ProgressBar x:Name="playerHpBar" Width="200" Height="20" Margin="5,0,5,0" Maximum="100" Value="100"/>
                        <TextBlock x:Name="playerHpText" Text="100 / 100" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- Computer HP -->
                <StackPanel Grid.Column="1" Margin="10" Orientation="Vertical">
                    <TextBlock Text="Computer" FontSize="18" FontWeight="Bold"/>
                    <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                        <TextBlock Text="HP:" VerticalAlignment="Center"/>
                        <ProgressBar x:Name="computerHpBar" Width="200" Height="20" Margin="5,0,5,0" Maximum="100" Value="100"/>
                        <TextBlock x:Name="computerHpText" Text="100 / 100" VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </Grid>

            <!-- Game Board Grid -->
            <Grid x:Name="ImageGrid" Grid.Row="1" Margin="10">
                <!-- Game images are added here dynamically -->
            </Grid>
        </Grid>

        <!-- Available Cards Panel - This overlay shows on top of the game when cards need to be selected -->
        <Grid x:Name="AvailableCardsPanel" Grid.Row="0" Grid.RowSpan="2" Visibility="Collapsed" Background="#BBFFFFFF">
            <Border Background="White" BorderBrush="Gray" BorderThickness="2" CornerRadius="5" 
                    Width="500" Height="400" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Header -->
                    <TextBlock Grid.Row="0" Text="Select 3 Cards" FontSize="24" FontWeight="Bold" 
                               HorizontalAlignment="Center" Margin="0,15,0,5"/>
                    
                    <!-- Card List -->
                    <ScrollViewer Grid.Row="1" Margin="10" VerticalScrollBarVisibility="Auto">
                        <ItemsControl x:Name="availableCardsList">
                            <!-- Card items are added here dynamically -->
                        </ItemsControl>
                    </ScrollViewer>
                    
                    <!-- Confirm Button -->
                    <Button x:Name="confirmCardSelection" Grid.Row="2"
                            Content="Confirm Selection" 
                            Click="ConfirmCardSelection_Click"
                            Visibility="Visible"
                            IsEnabled="False"
                            Width="200" 
                            Height="40"
                            Background="#4CAF50"
                            Foreground="White"
                            FontWeight="Bold"
                            Margin="0,10,0,20"
                            HorizontalAlignment="Center"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
